#!/bin/bash
total=$#
current=1
percent=0

echo
echo "EXIF AND DATES - received $total files to process";
echo

while [[ -n "$1" ]]; do
	percent=`expr 100 \* $current / $total`
	#echo "$percent" ;
	sourcename="`basename \"$1\"`"

	echo "* $sourcename ($percent%) "

	if [[ -f "$1" ]]; then
	  jhead -autorot -ft "$1" > /dev/null
		if [ "$?" -ne "0" ] ; then
			echo "   > FAILED"
		fi
	fi

	shift
	let current=current+1
done

echo
echo "All files have been processed.";
echo
